MensSana: Quitar Aceites de arvensis, poner de menssana. Correos a Naturalize.
Menssana: error: no está activado lo del tratamiento y me da error de que el cif de las empresas....
   Como generar código del artículo no admite el valor 1

== HECHO ==

== HACER EN LOS PAJAROS ==
* Borrar los tipos de formas de pago
* Enviar adjuntos
* FrmCambio: Sin ticket, imprime el ticket


== QT ==
* PushButton: una propiedad que diga qué hacer con el INTRO
* El richtextedit no envía el evento validate.
** Complicado: El evento lo tiene que enviar el richtextbox que es un QLabel
** Ahora el RichTextEdit modifica el contenido del QLabel, pero esto no debería ser así, además
** debería de ser un FrmCustom, no una QMainWindow para que se pueda hacer un showModalFor.
* No consigo pillar el keypressevent en el reportviewer
* Teclas cursor en la visualización de los informes
* Cuando pulso CTRL+M en cliente en añadir albaran de venta la primera vez sale modificar el detalle.
* FrmImport no se cierra al darle a cerrar porque no es un FrmBase
* No funciona f5 en frmeditrecdetail
* FrmEditRecDetail->Toma el foco el datatable siempre
* El enter de los textboxes es confuso, mejor añadirlo pero si se pulsa otra vez, saltar y borrarlo?
* No sale en español el Qt el mensaje de overwrite a file
* Cuando un editline da error, el cursor se vuelve un caracter a la izda.
* En campos deshabilitados no funciona ctrl+c

== HACER EN MC ==
* Comprobar, no actualiza el nombre de la vista cuando se cambia de vistas en los browses

= PRESCINDIBLE =

== Ofertas ==
* Insertar oferta de compra no inserta nada
* Estadísticas
* Probar: Crear la base de datos desde el principio, a ver si da error de copia de seguridad de base de datos

== gong-tpv ==
* Fila de productos favoritos
* Tarifas por el tipo de mesa.
* Al limpiar la mesa, lee registros
* saveEstado intenta grabar siempre, ver la diferencia
* Hacer tpvscreen una mainwindow o a pantalla completa. Seguir probando, no va muy bien.

* ???? Añadir forma de pago "Por cajón" y en la x, descontar los pagos de esa forma de pago.
** Cuando se pague algo con esa forma de pago, en pagos, guardar la sesión tpv actual.
* Que se resalte la familia seleccionada
** No funciona bien el ItemIsSelectable
* Si no encuentra las imágenes next y previos, no dibuja los rectángulos.

== gong-factu ==
* Que la suma en mc de las ventas coincida con la suma de las facturas
* Formulario datos ventas y compras de artículos
* Calcular el máximo de una unión en SQL: SELECT SUM() FROM ( SELECT .... UNION ALL .... );
* Al darle a cerrar a la elección de detalles de los pedidos de venta, continúa y luego da mensaje de error sin texto
* Genera pagos de albaranes y luego en la factura, al facturarlo, también
* Albaranes, facturas, etc. Añadir Cantidad asignada al proyecto
* FrmEstadCompraVenta: Filtrar por agentes y por familias y por forma de pago
** Revisar la reducción de la fuente número de documento en el informe
* Artículos: Iva de compra e iva de venta
* Crear clientes múltiples ya no es posible (si lo vuelvo a hacer, también para proveedoras)
* Generar códigos de los artículos:
** Funciona solo el caso de un prefijo e incremento, falta probar los otros
* Añadir a clientes y proveedoras: dia(s) de pago, mes no pago. Al generar los pagos, tenerlo en cuenta.
* Buscador de documentos por número
* Cambios masivos de precios: Sumar una cantidad fija

== gong-socias ==
* Campo en remesa, o en proyecto o en la configuración: formato de los números de recibo
* Elegir remesa en generar recibos, elegir solo las no cerradas
* Tipo de partida: nameslisttable
* Socias: ¿Están al corriente del pago? Avisar si no lo están.

== gong-deposit ==
* Al crear un albarán desde una liquidación, no rellena el importe de la liquidación en cada detalle
* Generar liquidación a proveedoras, el validate del tipodoc no funciona
* Liquidación de depósitos de venta, marcar la liquidación, igual que los de compra.
* Si no hay coste de artículo, que la liquidación lo avise.
* browse de liqventa, mostrar número.
* Poner el tipo de documento al generar la liquidación de venta.
* Hago informe depósitos, creo una liquidación y vuelvo a hacer el informe y sale vacío
* Liquidar depósitos de venta, tecleo código del tipo de documento y pulso tab y no avanza
* Duplicar albarán de venta: no borra el check Liquidada
* ¿Qué pasa si al meter una liquidación de un cliente los precios de los artículos han cambiado?

== cobros ==
* Pagos: Que pagar o anular sea el botón por defecto
* Aplicar la tasa de cambio de la moneda en el pago/cobro
* Agrupar, desagrupar, asociar a factura, disociar de factura, etc.
* ¿Cómo regenerar los asientos de los pagos/cobros agrupados?
** Regenerar asientos de pagos: si no hay cuenta origen, dar error y no generarlo
** Añadir IAsentable a pagos y cobros para regenerar los pagos y cobros
* Si un pago es mayor que el total, y no hay más facturas, entonces ¿hay que crear un nuevo pago por el resto?

== gong-contab ==
* No genera el contador en los asientos nuevos
* Comprobar el asiento cuando el tipo de forma de pago es ignorar el resto.
* Asiento compuesto, poner en el concepto el código del artículo cuando es un solo artículo
* Añadir campos: cuenta clientes, cuenta anticipos, cuenta proveedores, etc. a empresa y eliminar settings MODULE.CONTAB.CUENTA_CLIENTE, etc.
* Crea asiento, supervisar, si está modificándolo, que ponga modificando asiento en el título
* Asientos automáticos:
** Pedir la fecha y otros campos que se pueden modificar
** Pensar mejor lo del rescateValues
* Crear un ContabFrmCustom que valide bien las cuentas y utilizarlo en asitipoform
** o bien usar el código en asitipoform del frmpagarrecibo
* ¿Qué hacer si se cancela un asiento generado automáticamente?
* Importar datos de empresas. FP(40)
** Opciones empresa: CP(82)
** Niveles del plan contable

== gong-contactos ==
* Modifico factura de jardines del mundo, cambio el email del contacto y me dice que lo ha creado, pero en realidad ya estaba creado
* Comprobar que apellidos, nombre no duplica nombre, apellidos
* Utilizar campo alternativo para buscar clientes, proveedoras y contactos
* Mostrar nombres parecidos al dar de alta un nombre

== gong-empresa ==
* Cuando se modifica la base de datos, en el login dice que no exite la empresa y acaba el programa
* 	struct lconv *lc = localeconv(); Usarlo para obtener el nombre de la moneda

== gong-dbapp ==
* FrmCambiarEmpresa, terminar de implementar ¿Ejercicios?
* setJustEdited. Cuando se hace manualmente, luego no se borra. Ejemplo, añadir factura de compra a una factura de venta, el campo tipodoc_codigo.
* Copia de seguridad, falta poner el puerto
* Tras "Asistente de acceso" no añade nombre empresa a título ventana principal
* Importar: que no refresque el formulario maestro en cada registro
* El refrescar del frmeditrecmaster desde el menú principal debería refrescar solo en modo browsing
* Formulario de gestión de módulos en dbapp
* Elegir registro cuando hay un filtro, añades y si no coincide con el filtro, no aparece
** Comprobarlo y mostrar mensaje diciendo que el registro no se verá
* SQLSELECT. Elegir valores múltiples de campos
* No busca la Ñ el browse:
** El problema es:     else if( ke->text()[ 0 ].isPrint() )
* FrmEditRecMaster: Exportar como fugit
* FrmAdvancedPrint:
** Pedir el ancho del informe
** Pedir salida
** El logo no sale
* Altura de los lineedit no es fija
* FrmEditRecMaster::Show, cuando es simpleEdition, no llama al beginEdit, con lo cual no se comprueban los permisos
* FrmImport::addMessage no salen los acentos
* Crear y borrar la usuaria en la base de datos
* Al grabar un registro, refrescar los formularios de las relaciones
* FrmDatabasetools, al pulsar un botón, comprobar que no hay otras ventanas
* Crear estilos para edición y otros para vistas? (VIEW:INTEGER e INTEGER)
* No funciona duplicar detalles
* Recordar tamaño y posición de la ventana principal
* Los botones del visor están en inglés
* Cerrar informes con el escape
* FrmEditRec Cuando está seleccionado el botón cancelar, si pulsamos ENTER no hace nada

== ventasweb ==
* Subir por ftp, el mensaje de error no está vacío cuando no hay error

== gong-sinpapeles ==
* No muestra los documentos
* FrmEditRecMaster: Añadir acceso directo para ver el documento archivado
* La longitud del documento archivado no puede ser mayor de ...
* Definir los .ddd de sin papeles y añadirlos a la configuración para las otras tablas

== gong-rtk ==
* Añadir opción enviar por correo
* Implementar padding de los objetos
* El border bottom, cuando la sección tiene un posx=5, lo cuenta dos veces y empieza en pos=10
* Al hacer un informe apaisado, el alto de línea es demasiado pequeño
* Peta si se añade al inicio de xxxx_comun.inc:
#ifndef AGRUPAR
	SizeX = 120;
* pagesperfolio=2, no imprime el pie de página de la primera página
=== Error en RTK ===
* Esto falla miserablemente:
		INPUTFIELD NOMBRE {
			Source = T.NOMBRE;
			Type = string;
		}
		INPUTFIELD IVA {
* Comprobar los estilos de los campos de los informes, que se usen los de gonglib
* Si en un pageheader se pone un objeto con un sizey que va al final y luego hay otros objetos que van al principio, el del final no sale
* rtk: startpage.drawImages no cubre todo el painter

== gong-qt4 ==
* ImageBox: Recibir un parámetro: convert_path
* Tamaño de los listboxes ajustado al máximo del listbox

== gonglib ==
* XmlReader: mejorar parseFile().
* editar fechas de nacimiento, si el año es mayor de 2100 y es multiplo de 100, es un 19xx
* dbSettings::removeSetting no está acabado
* stringInc: Cuando solo son letras, incrementa por la izquierda!
* LineEdit::setText( DateTime::currentDate() ) => "dd/mm/yyyy 01:00:00";
* dbFieldReferenceID: aggregate relations null
	/// \todo {check} Esto se hacía solo para que los apuntes pudieran tener algunos datos incompletos
* Locale ca falla porque está instalado el ca_ES.
* En settings, si una línea termina así, no da error pero no sigue leyendo ";";
* En settings, no funciona .~Por_proveedora
* Un setting DFDFDF(string)= debe devolverlo con el valor invalid
* Settings::getNextValue: No maneja bien los \\
* dbRecord: save fields right trimmed

== autotools, capel y gong.sh ==
* init_project Debug: Genera el makefile completo, no solo los modulos definidos en el configure.ac
* Informe CUENTA.rtk: alignment de header debe y haber no funciona
** capel no genera el objeto ASIENTO.DESCRIPCION en el header del grupo

== Para más tarde ==
* MsgYesNoDontAskAgain: aplicar a main.cpp, language

== Refactoring ==
* Eliminar enablesearchboxes
* dbRecordList no permitir push_back
* FrmCustom: Utilizar un QTabWidget, showTabs
* Refactor: ImagesGallery::addPixmap e ImageBox::setImageData
* GuiApplication::loadImage(filename), GuiApplication::saveImage(filename)
* Quitar el getConnection del dbapp en cada módulo, tomarlo de cada módulo
* Convertir en behavior:
** editorial::frmeditarticulo, contab::frmeditempresa, socias::frmeditapunte, mc:frmproveedora, mc:articulo

== Dudo que lo haga
* Lineedit con mask ###,###,### al suprimir desde la izquierda, la posición del cursor falla
* Pegar fechas con año completo en mascaras sin año completo, tomar los dos digitos ultimos del año
* detalles-> set focus cuando se edita el nombre del artículo, que se vaya al código del artículo
** Hay que redefinir los formularios de detalles, lo cual es mucho trabajo, no merece la pena.

== Bugs ==
* Si se copia un presupuestoventadet a un pedido peta
* Si a un lineedit de tipo date le pasas un datetime en el settext, sale mal el formato y luego la máscara


== mc ==
http://blog.itsbilal.com/2012/12/connect-an-android-4-0-phonetablet-to-ubuntu-the-reliable-way/

== CONTABILIDAD ==
* Proveedoras: Es mejor no separar las cuentas.
** En algunos casos, sí que se pueden separar en proveedoras nacionales, comunitarios, extranjeros
* IVA: Siempre va a gestión.
** IVA de la UE: Se hacen dos asientos, uno al soportado y otro al repercutido
** Subcuentas soportado (deducible): 472.
** Subcuentas repercutido (devengado): 477.
* Crear tipo de documento ticket sin factura posterior
** No se puede declarar el IVA
** Genera un asiento como si fuera una factura
** Añade a tipodocumento un campo SINFACTURAPOSTERIOR

* Productos terminados y materias primas:
** Materias primas (compras) 601.
** Productos terminados (ventas ) 701.
** Si solo hubiera una empresa, sería genial, pero en los pájaros hay varios problemas:
*** Si se compra arroz, unas veces va a la 600 y otras a la 601.
*** Se necesita que el mismo artículo unas veces vaya a la 600 y otras a la 601.
*** Cuando compra la cantina a la tienda, tiene que hacerse un asiento en la tienda y otro en la cantina, y la cuenta (600 o 601)
	depende de la familia de modo que no hay manera de distinguir
** 628.- Agua, luz y gas
** 629.- todo lo demás


== gonglib 0.6.0 ==

=== dbRecord ===
* Añadir validErrors y un saveNoValidate()
* Crear un objeto Query con métodos para formar una query
* Añadir: List<IntegrityResult> mErrors, mWarnings;
* isValid( context ) => rellena el array de IntegrityResult
* Al guardar un registro, que el resto de registros de las relaciones se pongan mIsRead = false, esto implica tener una lista de registros en memoria
* dbRecordBehavior se tiene que añadir a los registros, no a la tabledefinition
* Mastertable: SemanticProperties, pConnection

* Settings: añadir null values
* usar poco::string

=== gui ===
* Crear interface gui::IControl
** setVisible
** setEnabled
** setEdited
** setJustEdited
** setMustBeReadOnly
** signal validate
** isSettingProgrammatically: Probar a desconectar las señales/slots
* Crear interface gui::FormController
** addControl
** addXXXXControl
** Jerarquía de formularios
* QMdiSubWindow => FrmBase => FrmCustom (con tabs) => FrmEditRec
** FrmBase: public QMdiSubWindow, IFormController
** DialogBase: public QDialog, IFormController
* Q3Table -> Qt4 (http://www.informit.com/articles/article.aspx?p=1750226&seqNum=3)
** Hover sobre q3table, mostrar el texto completo de la celda
** Ctrl+click selecciona pero no deselecciona
** Si no está seleccionado el primer registro, al pulsar ctrl+l selecciona también el primero
** Al ir añadiendo detalles, la última línea no se ve
** Al mover la barra de detalles, no se redibuja bien
** Ajustar el alto de fila a la fuente
** ContextMenu de la pDataTable: Usar el menu del frmeditrecmaster

=== dbapp ===
* Opción en configuración: Guardar la sesión o no, quitar lo de guardar posición de la ventana, que se guarde siempre dentro de la sesión.
** Necesita una forma de que cuando se cierre un FrmBase, se ejecute algo en DBAPP
** Se necesita un refactoring para que FrmBase se una FrmMdiWindow
* canBeginEdit( EditMode &newmode )
* Definición de las vistas: +SELECT BLA,BLA FROM INNER JOIN
* Añadir a herramientas de la base de datos información sobre la conexión como etiquetas en el propio formulario
* Separar mod303, quitar fechaiva de facturas de factu
* Eliminar el setting USEWORKINGDATE, usar bloqueo de campos
* Formulario de edición de la configuración:
** Añadir botón "Buscar clave" y "Añadir clave"
** Crear editor específico para los valores.
* Shortcuts para los menus en la configuración
* AppReport::fromViewDefinition: Estrechar más los campos más largos (difícil)
* Opción en FrmEditRecMaster para mostrar/ocultar los ids
* FrmEditRec: Posibilidad de añadir controles dinámicamente a partir de una lista de campos,
  así se evitaría tener que crear behaviors para campos muy sencillos.
* Quitar última fecha y añadir a frmeditrec la posibilidad de bloquear cualquier campo
* Crear un FrmCondicionesInformes: public FrmCustom.
** Esto es una barbaridad Xtring FrmCustom::readRTK( const Xtring &_template )

== optimizaciones ==
* CreateRecord: hacerlo en el readrelations
* mysql: no guardar el resultset completo, utilizar el cursor

== Módulos ==
* Avisos: añade campo avisos y cada vez que se elige un registro muestra ese aviso

* SENDBUG: Que msgxtringlist cierre con el intro
* SENDBUG: No poder maximizar la ventana inactiva.
* SENDBUG: el ctrl+e de un lineedit, no retoma el foco cuando se cierra la ventana (depurar con dos monitores)
* SENDBUG: A pesar de poner un stylesheet con font-size:10px, los editlines salen muy grandes (fontinfo?)

== .deb ==
https://wiki.debian.org/IntroDebianPackaging

cd gestiong
make dist
cp gestiong-0.5.0-beta1.tar.gz ~/devel/tmp/gestiong_0.5.0-beta1.orig.tar.gz
#dh_make --native -c gpl -e gestiong@programacionsocial.net -s
debuild -us -uc
